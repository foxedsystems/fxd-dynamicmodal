<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>fxd-dynamicmodal Demo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      background: #f7f7f4;
      color: #1f2328;
      font-family: "IBM Plex Sans", "Segoe UI", Tahoma, sans-serif;
    }
    .hero {
      padding: 3rem 1.5rem 2rem;
    }
    .card {
      border: 1px solid #e4e2dc;
      box-shadow: 0 10px 30px rgba(0,0,0,0.06);
    }
    .demo-nav {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
    }
    .demo-nav a {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #334155;
      text-decoration: none;
      background: #e2e8f0;
      padding: 0.35rem 0.6rem;
      border-radius: 999px;
    }
    .demo-block {
      padding: 1.25rem 0;
      border-top: 1px solid #e2e8f0;
    }
    .demo-block:first-child {
      border-top: 0;
    }
    .demo-label {
      font-size: 0.85rem;
      color: #6b7280;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      margin-bottom: 0.5rem;
      font-weight: bold;
    }
    .demo-desc {
      font-size: 0.9rem;
      color: #475569;
      margin-bottom: 0.75rem;
    }
    pre {
      background: #0f172a;
      color: #e2e8f0;
      padding: 0.75rem;
      border-radius: 8px;
      font-size: 0.8rem;
      overflow: auto;
      margin-top: 1.5rem;
    }
    code {
      font-family: "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }
  </style>
</head>
<body>
  <main class="container">
    <section class="hero">
      <h1 class="display-6 fw-semibold">fxd-dynamicmodal Demo</h1>
      <p class="lead">Bootstrap 5 modal manager for inline and remote content.</p>
    </section>

    <section class="card p-4 mb-2">
      <nav class="demo-nav">
        <a href="#demo-basic-block">Basic</a>
        <a href="#demo-inline-block">Inline</a>
        <a href="#demo-remote-block">Remote</a>
        <a href="#demo-options-block">Options</a>
        <a href="#demo-confirm-block">Confirm</a>
      </nav>
    </section>

    <section class="card p-4 mb-5">
      <div>
        <div class="demo-block" id="demo-basic-block">
          <div class="demo-label">Basic Modal</div>
          <div class="demo-desc">Default modal open with simple content.</div>
          <button class="btn btn-primary" id="demo-basic">Open Basic Modal</button>
          <pre><code>// Default init
const modal = new FxdDynamicModal();
modal.open('/some/endpoint');</code></pre>
        </div>

        <div class="demo-block" id="demo-inline-block">
          <div class="demo-label">Inline Content</div>
          <div class="demo-desc">Pulls markup from a hidden element.</div>
          <button class="btn btn-outline-primary" id="demo-inline">Open Inline Modal</button>
          <div id="inline-content" class="d-none">
            <h5>Inline content</h5>
            <p class="mb-0">This content was sourced from a hidden element.</p>
          </div>
          <pre><code>// Inline content
modal.open('#inline-content', {}, { title: 'Inline' });</code></pre>
        </div>

        <div class="demo-block" id="demo-remote-block">
          <div class="demo-label">Remote Content</div>
          <div class="demo-desc">Loads HTML from a remote endpoint.</div>
          <button class="btn btn-outline-secondary" id="demo-remote">Open Remote Modal</button>
          <pre><code>// Remote content
modal.open('/api/modal', { id: 12 }, { title: 'Remote' });</code></pre>
        </div>

        <div class="demo-block" id="demo-options-block">
          <div class="demo-label">Options</div>
          <div class="demo-desc">Customize size and close behavior.</div>
          <button class="btn btn-dark" id="demo-options">Open Static XL</button>
          <pre><code>// Options override
modal.open('#inline-content', {}, { size: 'xl', bgClose: false });</code></pre>
        </div>

        <div class="demo-block" id="demo-confirm-block">
          <div class="demo-label">Confirmation</div>
          <div class="demo-desc">Runs confirm/cancel handlers with optional async request.</div>
          <button class="btn btn-danger" id="demo-confirm">Open Confirm Dialog</button>
          <pre><code>// Confirmation modal
modal.showConfirm({
  title: 'Delete item?',
  message: 'This action cannot be undone.',
  confirmText: 'Delete',
  confirmAction: {
    method: 'POST',
    url: '/api/delete',
    data: { id: 12 },
    async: true,
    onSuccess: () => console.log('deleted'),
  },
});</code></pre>
        </div>
      </div>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script type="module">
    import { FxdDynamicModal } from './dist/fxd-dynamicmodal.esm.js';

    const modal = new FxdDynamicModal({
      title: 'Dynamic Modal',
    });

    document.querySelector('#demo-basic').addEventListener('click', () => {
      modal.open('#inline-content', {}, { title: 'Basic' });
    });

    document.querySelector('#demo-inline').addEventListener('click', () => {
      modal.open('#inline-content', {}, { title: 'Inline Content' });
    });

    document.querySelector('#demo-remote').addEventListener('click', () => {
      modal.open('/api/modal', { id: 12 }, { title: 'Remote' });
    });

    document.querySelector('#demo-options').addEventListener('click', () => {
      modal.open('#inline-content', {}, { title: 'Static XL', size: 'xl', bgClose: false });
    });

    document.querySelector('#demo-confirm').addEventListener('click', () => {
      modal.showConfirm({
        title: 'Delete item?',
        message: 'This action cannot be undone.',
        confirmText: 'Delete',
        cancelText: 'Cancel',
        confirmVariant: 'btn-danger',
        bgClose: false,
        confirmAction: {
          method: 'POST',
          url: '/api/delete',
          data: { id: 12 },
          async: true,
          fetch: async () => ({
            ok: true,
            status: 200,
            text: async () => '{"status":"ok"}',
          }),
          onSuccess: (data) => console.log('confirm success', data),
        },
        onCancel: () => console.log('confirm cancelled'),
      });
    });
  </script>
</body>
</html>
